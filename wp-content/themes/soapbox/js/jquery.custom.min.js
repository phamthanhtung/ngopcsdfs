jQuery(document).ready(function(e){"use strict";var t=e("#preloader");var n=new sPreloader({contentDiv:"content",loaderDiv:"preloader",excludingClass:"nopreload",logProgress:false,animation:"fade",animationSpeed:"1.0"});n.start();document.addEventListener("preloadUpdate",function(){e("#percent-bar").css({width:n.percentage+"%"})});document.addEventListener("preloaded",function(){updateIsotope();updateSlider();updateScrollBars();e("#preloadImages").remove();e("html").css({overflow:"hidden"}).css({overflow:""});resizeVideoBackgrounds();t.fadeOut()});e(".background-video").each(function(t,n){e(n).on("loadedmetadata",function(){e(n).prop("muted",true);resizeVideoBackgrounds();e(n).addClass("loaded")})});e(".menu-toggle").click(function(t){e("html").animate({scrollTop:0},{duration:500,complete:function(){showMenu()}});t.preventDefault()});e(".sidebar-toggle").click(function(t){e("html").animate({scrollTop:0},{duration:500,complete:function(){showSidebar()}});t.preventDefault()});e(".fit-to-parent img").imagesLoaded().resizeToParent();e(".feature-image, .slideshow, .post-gallery img").each(function(){var t=e(this);t.imagesLoaded().done(function(){t.addClass("loaded")})});if(e(".ajax-pagination .pagination").length){var r=parseInt(e(".pagination .current").text(),10);var i;var s=e(".pagination a").last().text();if(e(".pagination .next").length){i=e(".pagination .next").attr("href");s=e(".pagination .next").prev("a").text()}if(r<=s){e(".pagination > *").remove();e(".pagination").append('<a id="load-posts-button" href="#">'+funky_localized_js.load_more_button_text_sring+"</a>");e(".pagination a").css("display","block");e(".pagination").append("<span>"+funky_localized_js.loading_text_sring+"</span>");e(".pagination span").css("display","none");e("#load-posts-button").click(function(){var t=e("#post-grid");if(t.length){e(".filter .selected").removeClass("selected");e(".filter > li:first-child > a").addClass("selected");t.isotope({filter:"*"})}r++;var n=e("#load-posts-button").offset().top;if(r<=s){e(".pagination a").css("display","none");e(".pagination span").css("display","block");var o=e("<div>");e(o).load(i+" .hentry",function(){var u=r+1;i=i.replace(/\/page\/[0-9]?/,"/page/"+u);o=o.contents();if(t.length){t.isotope("insert",o);t.imagesLoaded().done(function(){updateIsotope()})}else{o.css("display","none");e(".hentry").last().after(o);e(".hentry").fadeIn()}e("html,body").animate({scrollTop:n},1e3);e(".feature-image").each(function(){var t=e(this);t.imagesLoaded().done(function(){t.addClass("loaded")})});if(u<=s){e(".pagination span").css("display","none");e(".pagination a").css("display","block")}else{e(".pagination span").text(funky_localized_js.no_more_posts_text_string)}})}else{e(".pagination a").css("display","none");e(".pagination span").text(funky_localized_js.no_more_posts_text_string);e(".pagination span").css("display","block")}return false})}}e(window).resize(function(){updateScrollBars();updateSlider();resizeVideoBackgrounds();e(".fit-to-parent img").resizeToParent()});e(window).scroll(function(){});e(window).load(function(){resizeVideoBackgrounds()})});var updateIsotope=function(){"use strict";if(jQuery.isFunction(jQuery.fn.isotope)){var e;if(jQuery(window).width()<=600){e=1}else if(jQuery(window).width()<=930){e=2}else if(jQuery(window).width()<=1280){e=3}else{e=4}jQuery("#post-grid").isotope({layoutMode:"perfectMasonry",perfectMasonry:{liquid:true,cols:e}});jQuery(window).smartresize(function(){var e;if(jQuery(window).width()<=600){e=1}else if(jQuery(window).width()<=930){e=2}else if(jQuery(window).width()<=1280){e=3}else{e=4}jQuery("#post-grid").isotope({layoutMode:"perfectMasonry",perfectMasonry:{liquid:true,cols:e}})});jQuery(".filter a").click(function(){var e=jQuery(this);if(e.hasClass("selected")){return false}else{jQuery(".filter .selected").removeClass("selected");var t=e.attr("data-filter");jQuery("#post-grid").isotope({filter:t});e.addClass("selected");return false}})}};var showMenu=function(){"use strict";jQuery("body").removeClass("active-sidebar").toggleClass("active-menu");jQuery(".sidebar-toggle").removeClass("active-button");jQuery(".menu-toggle").toggleClass("active-button");jQuery(".menu-toggle span").toggleClass("funky-icon-menu");jQuery(".menu-toggle span").toggleClass("funky-icon-close")};var showSidebar=function(){"use strict";jQuery("body").removeClass("active-menu").toggleClass("active-sidebar");jQuery(".menu-toggle").removeClass("active-button");jQuery(".sidebar-toggle").toggleClass("active-button");jQuery(".sidebar-toggle span").toggleClass("funky-icon-more");jQuery(".sidebar-toggle span").toggleClass("funky-icon-close")};var resizeVideoBackgrounds=function(){"use strict";jQuery(".background-video").each(function(e,t){var n=jQuery(t).width();var r=jQuery(t).height();var i=jQuery(t).parent().width();var s=jQuery(t).parent().height();if(n>i){var o=(i-n)/2;jQuery(t).css({"margin-left":o})}else{jQuery(t).css({"margin-left":0})}if(r>s){var u=(s-r)/2;jQuery(t).css({"margin-top":u})}else{jQuery(t).css({"margin-top":0})}})};var updateSlider=function(){"use strict";if(jQuery.isFunction(jQuery.fn.cycle)){if(jQuery(".menu-toggle").width()<=60){if(!jQuery(".cycle-slideshow").length){jQuery(".slideshow").cycle().addClass("cycle-slideshow");var e=jQuery(".cycle-pager").height();jQuery(".cycle-pager").css({"margin-top":-e/2})}}else{jQuery(".cycle-slideshow").cycle("destroy").removeClass("cycle-slideshow");}}jQuery(".slideshow img").resizeToParent()};var updateScrollBars=function(){"use strict";if(jQuery.isFunction(jQuery.fn.mCustomScrollbar)){if(jQuery(".menu-toggle").width()<=60){if(!jQuery("#menu .mCustomScrollBox").length){var e="light";if(funky_localized_js.navTextColour==="dark"){var e="dark"}jQuery("#menu").mCustomScrollbar({theme:e,mouseWheelPixels:200,advanced:{updateOnContentResize:true,autoScrollOnFocus:false}});jQuery("#sidebar").mCustomScrollbar({theme:"dark",mouseWheelPixels:200,advanced:{updateOnContentResize:true,autoScrollOnFocus:false}});jQuery(".post-gallery").mCustomScrollbar({theme:"light",mouseWheelPixels:200,advanced:{updateOnContentResize:true,autoScrollOnFocus:false}})}}else{jQuery("#menu, #sidebar, .post-gallery").mCustomScrollbar("destroy")}}}